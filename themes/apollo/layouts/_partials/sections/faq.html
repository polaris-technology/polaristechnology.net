{{- $section := .section -}}
{{- $page := .page -}}
{{- $accordionId := printf "faqAccordion-%s" (md5 ($page.Permalink | default $page.RelPermalink | default "home")) -}}
{{- if $section.enable -}}
<section class="faq-section py-6" id="faq" aria-labelledby="faq-title">
  <div class="container">
    {{- with $section.title -}}
    <div class="row mb-5">
      <div class="col-lg-8 mx-auto text-center">
        <h2 id="faq-title" class="display-5 fw-bold mb-3">{{ . }}</h2>
        {{- with $section.description -}}
        <p class="lead text-muted">{{ . }}</p>
        {{- end -}}
      </div>
    </div>
    {{- end -}}
    
    {{- with $section.items -}}
    <div class="row">
      <div class="col-lg-8 mx-auto">
        <div class="accordion" id="{{ $accordionId }}">
          {{- range $index, $item := . -}}
          <div class="accordion-item mb-3 border-0 shadow-sm rounded-3">
            <h2 class="accordion-header" id="{{ $accordionId }}-heading-{{ $index }}">
              <button class="accordion-button fw-semibold {{ if ne $index 0 }}collapsed{{ end }}" type="button" data-bs-toggle="collapse" data-bs-target="#{{ $accordionId }}-collapse-{{ $index }}" aria-expanded="{{ if eq $index 0 }}true{{ else }}false{{ end }}" aria-controls="{{ $accordionId }}-collapse-{{ $index }}">
                {{ .question }}
              </button>
            </h2>
            <div id="{{ $accordionId }}-collapse-{{ $index }}" class="accordion-collapse collapse{{ if eq $index 0 }} show{{ end }}" aria-labelledby="{{ $accordionId }}-heading-{{ $index }}" data-bs-parent="#{{ $accordionId }}">
              <div class="accordion-body text-secondary">
                {{ .answer | markdownify }}
              </div>
            </div>
          </div>
          {{- end -}}
        </div>
      </div>
    </div>
    {{- end -}}
  </div>
</section>
{{- end -}}
